---
# Per environment values which override defaults in hmpps-book-a-prison-visit-ui/values.yaml

generic-service:
  replicaCount: 2

  ingress:
    host: visit-staging.prison.service.justice.gov.uk

  scheduledDowntime:
    enabled: true
  
  env:
    INGRESS_URL: "https://visit-staging.prison.service.justice.gov.uk"
    HMPPS_AUTH_URL: "https://sign-in-dev.hmpps.service.justice.gov.uk/auth"
    GOVUK_ONE_LOGIN_URL: "https://oidc.integration.account.gov.uk"
    GOVUK_ONE_LOGIN_HOME_URL: "https://home.integration.account.gov.uk"
    GOVUK_ONE_LOGIN_VTR: "LOW"
    ORCHESTRATION_API_URL: "https://hmpps-manage-prison-visits-orchestration-staging.prison.service.justice.gov.uk"
    PRISON_REGISTER_API_URL: "https://prison-register-dev.hmpps.service.justice.gov.uk"
    PVB_URL: "https://dev.prisonvisits.prison.service.justice.gov.uk/en/request"
    GOOGLE_ANALYTICS_ID: "G-SSLMWLQYHQ"
    ENVIRONMENT_NAME: staging
    APPLICATIONINSIGHTS_CONNECTION_STRING: null # disable App Insights for staging

    # override rate limits so E2E tests not blocked
    ADD_PRISONER_RATE_LIMIT_BOOKER_MAX_REQUEST: "500"
    ADD_PRISONER_RATE_LIMIT_BOOKER_WINDOW_SECS: "60"
    ADD_PRISONER_RATE_LIMIT_PRISONER_MAX_REQUESTS: "500"
    ADD_PRISONER_RATE_LIMIT_PRISONER_WINDOW_SECS: "60"

  allowlist:
    groups:
      - digital_staff_and_mojo
      - moj_cloud_platform

generic-prometheus-alerts:
  alertSeverity: visits-alerts-nonprod
  businessHoursOnly: true
