{% extends "../../../partials/layout.njk" %}
{% from "govuk/components/panel/macro.njk" import govukPanel %}

{% set pageTitle = "Booking cancelled" %}

{% if not bookingCancelled.hasEmail and bookingCancelled.hasMobile %}
  {% set confirmationMessage =
    "A text message will be sent to the main contact to confirm the booking has been cancelled." %}
{% endif %}
{% if bookingCancelled.hasEmail and bookingCancelled.hasMobile %}
  {% set confirmationMessage =
    "An email and a text message will be sent to the main contact to confirm the booking has been cancelled." %}
{% endif %}
{% if bookingCancelled.hasEmail and not bookingCancelled.hasMobile %}
  {% set confirmationMessage =
    "An email will be sent to the main contact to confirm the booking has been cancelled." %}
{% endif %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {{ govukPanel({
        titleText: pageTitle
      }) }}

      <h2 class="govuk-heading-m">What happens next</h1>

      {% if confirmationMessage %}
        <p data-test="confirmation-notification-message">{{ confirmationMessage }}</p>
      {% endif %}

      <p>
        When signed in to GOV.UK One Login, you can <a class="govuk-link--no-visited-state" href="{{ paths.BOOKINGS.HOME }}">check the details of your bookings</a>.
      </p>

      <p>
        You can help us to improve this service by giving <a href="https://visit-someone-in-prison-test-feedback.form.service.justice.gov.uk/" target="_blank" rel="noopener noreferrer">feedback</a>.
      </p>

    </div>
  </div>
{% endblock %}
