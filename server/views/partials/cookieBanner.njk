{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}

{% set html %}
<p class="govuk-body">We use some essential cookies to make this service work.</p>
<p class="govuk-body">We’d also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
{% endset %}

{% set acceptHtml %}
  <p class="govuk-body">You’ve accepted analytics cookies. You can <a class="govuk-link" href="{{ paths.COOKIES }}">change your cookie settings</a> at any time.</p>
{% endset %}

{% set rejectHtml %}
  <p class="govuk-body">You’ve rejected analytics cookies. You can <a class="govuk-link" href="{{ paths.COOKIES }}">change your cookie settings</a> at any time.</p>
{% endset %}

{{ govukCookieBanner({
  ariaLabel: "Cookies on " + applicationName,
  attributes: {
    id: "cookie-banner"
  },
  hidden: true,
  messages: [
    {
      headingText: "Cookies on " + applicationName,
      attributes: {
        id: "cookie-banner-main"
      },
      html: html,
      actions: [
        {
          text: "Accept analytics cookies",
          type: "button",
          value: "yes",
          attributes: {
            "data-test": "accept-analytics"
          }
        },
        {
          text: "Reject analytics cookies",
          type: "button",
          value: "no",
          attributes: {
            "data-test": "reject-analytics"
          }
        },
        {
          text: "View cookies",
          href: paths.COOKIES
        }
      ]
    },
    {
      html: acceptHtml,
      attributes: {
        id: "cookie-banner-accepted"
      },
      hidden: true,
      actions: [
        {
          text: "Hide cookie message",
          type: "button",
          attributes: {
            "data-test": "hide-cookies-accepted"
          }
        }
      ]
    },
    {
      html: rejectHtml,
      attributes: {
        id: "cookie-banner-rejected"
      },
      hidden: true,
      actions: [
        {
          text: "Hide cookie message",
          type: "button",
          attributes: {
            "data-test": "hide-cookies-rejected"
          }
        }
      ]
    }
  ]
}) }}
